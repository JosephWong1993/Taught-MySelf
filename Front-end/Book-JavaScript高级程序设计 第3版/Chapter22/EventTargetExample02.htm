<!DOCTYPE html>
<html>

<head>
    <title></title>
    <script src="EventTarget.js"></script>
</head>

<body>
    <script>
        function Person(name, age) {
            EventTarget.call(this);
            this.name = name;
            this.age = age;
        }

        inhertPrototype(Person, EventTarget);

        Person.prototype.say = function (message) {
            this.fire({ type: "message", message: message });
        }

        function handleMessage(event) {
            console.log(event.target.name + "says: " + event.message);
        }

        //  创建新person
        var person = new person("Nicholas", 29);

        //  添加一个事件处理程序
        person.addHandler("message", handleMessage);

        //  在该对象上调用1个方法,它出发消息事件
        person.say("Hi there.");
    </script>
</body>

</html>