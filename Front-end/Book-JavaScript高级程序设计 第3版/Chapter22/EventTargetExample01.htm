<!DOCTYPE html>
<html>

<head>
    <title></title>
    <script src="EventTarget.js"></script>
</head>

<body>
    <script>
        function handleMessage(event) {
            console.log("Message received: " + event.message);
        }

        //  创建一个新对象
        var target = new EventTarget();

        //  添加一个事件处理程序
        target.addHandler("message", handleMessage);

        //  触发事件
        target.fire({ type: "message", message: "Hello world!" });

        //  删除事件处理程序
        target.removeHandler("message", handleMessage);

        //  再次,应没有处理程序
        target.fire({ type: "message", message: "Hello world!" });
    </script>
</body>

</html>