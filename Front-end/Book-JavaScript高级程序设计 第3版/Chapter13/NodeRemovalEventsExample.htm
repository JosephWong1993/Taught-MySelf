<!DOCTYPE html>
<html>

<head>
    <title>Node Removal Events Example</title>
</head>

<body>
    <ul id="myList">
        <li>Item 1</li>
        <li>Item 2</li>
        <li>Item 3</li>
    </ul>
    <script src="EventUtil.js"></script>
    <script>
        // EventUtil.addHandler(window, "load", function (event) {
        //     var list = document.getElementById("myList");

        //     EventUtil.addHandler(document, "DOMSubtreeModified", function (event) {
        //         console.log(event.type);
        //         console.log(event.target);
        //     });

        //     EventUtil.addHandler(document, "DOMNodeRemoved", function (event) {
        //         console.log(event.type);
        //         console.log(event.target);
        //         console.log(event.relatedNode);
        //     });

        //     EventUtil.addHandler(list.firstChild, "DOMNodeRemovedFromDocument", function (event) {
        //         console.log(event.type);
        //         console.log(event.target);
        //     });

        //     list.parentNode.removeChild(list);
        // });

        EventUtil.addHandler(window, "load", function (event) {
            var list = document.getElementById("myList");
            var item = document.createElement("li");
            item.appendChild(document.createTextNode("Item 4"));

            EventUtil.addHandler(document, "DOMSubtreeModified", function (event) {
                console.log(event.type);
                console.log(event.target);
            });

            EventUtil.addHandler(document, "DOMNodeInserted", function (event) {
                console.log(event.type);
                console.log(event.target);
                console.log(event.relatedNode);
            });

            EventUtil.addHandler(item, "DOMNodeInsertedIntoDocument", function (event) {
                console.log(event.type);
                console.log(event.target);
            });

            list.appendChild(item);
        });
    </script>
</body>

</html>